---
layout: post
status: publish
published: true
title: Clase XHConn
author:
  display_name: dani
  login: dani
  email: danilat83@gmail.com
  url: http://www.danilat.com/weblog/
author_login: dani
author_email: danilat83@gmail.com
author_url: http://www.danilat.com/weblog/
wordpress_id: 90
wordpress_url: http://www.danilat.com/weblog/2007/06/30/clase-xhconn/
date: '2007-06-30 17:57:17 +0200'
date_gmt: '2007-06-30 15:57:17 +0200'
categories:
- Javascript
tags: []
comments:
- id: 9906
  author: Marcos Medina
  author_email: gelito770@yahoo.es
  author_url: ''
  date: '2010-04-15 17:18:59 +0200'
  date_gmt: '2010-04-15 15:18:59 +0200'
  content: "Hola \r\n\r\nYo he utilizado bastante esta sencilla librería pero he tenido
    problemas hasta ahora con la parte de subir archivos ( upload ). Por algún motivo
    cuando intento subir archivos usando xhconn no lo logro hacer. Si me pudieras
    ayudar te lo agradecería, hasta pronto."
- id: 9907
  author: dani
  author_email: danilat83@gmail.com
  author_url: http://www.danilat.com/weblog/
  date: '2010-04-16 10:08:02 +0200'
  date_gmt: '2010-04-16 08:08:02 +0200'
  content: "Hola Marcos,\r\n\r\nMmm... si no recuerdo mal(y supongo que no habrá cambiado
    nada), XMLHttpRequest no puede enviar archivos al servidor, y claro, XHConn tampoco.\r\n\r\nSe
    suelen utilizar iframes ocultos para hacer esas peticiones de upload(también se
    puede hacer con componentes en flash). Personalmente no me complicaría, buscaría
    algún componente javascript ya programado que fuera adaptable y lo usaría."
---
<p>Hasta ahora no he utilizado librerías javascript, únicamente algún componente <em>configurable</em> (calendario, autocompletado...), quizás porque no soy un apasionado de javascript y no las he trasteado, además de que utilizando algunos de esos componentes me he tenido que liar con su código para modificar algún detalle <em>a mi gusto</em>.</p>
<p>Cosa que nunca me ha pasado con la clase <a href="http://xkr.us/code/javascript/XHConn/XHConn.js">XHConn</a>, que es una sencilla clase que soluciona los problemas de las compatibilidades entre navegadores al crear un objeto <a href="http://es.wikipedia.org/wiki/XmlHttpRequest">XMLHTTPRequest</a>, y nos ahorra ese trabajo.</p>
<p>Su uso es muy sencillo, sólo tiene un método, <strong>connect</strong> al que se le pasan la url, el method(POST/GET), parametros de la url y la función de callback</p>
<p>Aquí un ejemplo:</p>
<pre>//Instanciamos el objeto</pre>
<pre>var con = new XHConn();</pre>
<pre>//Comprobamos que el navegador tenga soporte al objeto XMLHTTPRequest</pre>
<pre>if (!con) alert("El navegador no soporta el objeto XMLHTTPRequest.");</pre>
<pre>//Definimos la función de callback</pre>
<pre>var fnWhenDone = function (obj) { alert(obj.responseText); };</pre>
<pre>//Llamamos al método connect</pre>
<pre>con.connect("urldeejemplo.php", "POST", "parametro1=a&parametro2=b", fnWhenDone);</pre>
